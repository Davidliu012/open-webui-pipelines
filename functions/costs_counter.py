"""
title: Universal Token Counter and Cost Metrics
author: Gurasis Osahan
author_url: https://github.com/asisosahan
funding_url: https://buymeacoffee.com/gosahan
icon_url: data:image/png;base64,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

gitlab_url: https://gitlab.genomicops.cloud/innovation-hub/open-webui-token-counter
version: 0.1.1
description:
    A token counting and cost estimation utility, designed as a snippet for
    Open Web UI. Supports GPT-3.5/4, Anthropic Claude, and fallback categories
    for unknown models. Pricing is user-configurable and can be manually updated
    to accommodate future changes.
"""

import logging
import time
from typing import Any, Dict, List, Optional

import tiktoken
from fastapi.requests import Request
from pydantic import BaseModel, Field

logger = logging.getLogger(__name__)
if not logger.handlers:
    logger.setLevel(logging.DEBUG)
    handler = logging.StreamHandler()
    handler.set_name("universal_token_counter")
    formatter = logging.Formatter(
        "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
    )
    handler.setFormatter(formatter)
    logger.addHandler(handler)
    logger.propagate = False

# ==============================================================================
# PRICING DICTIONARIES
# ------------------------------------------------------------------------------
# 1) MANUAL UPDATES:
#    - Users can add/update entries in MODEL_PRICING if new models or changed
#      token prices appear. For example, if OpenAI updates GPT-4 input cost
#      from $0.03 → $0.025 per 1K tokens, multiply by 1000 for per-million
#      tokens (i.e. $25.00 → $20.00).
#
# 2) AUTOMATED FETCH (NOT IMPLEMENTED):
#    - If an official API or stable source emerges, integrate logic here
#      (e.g., from a known endpoint). For now, manual updates are the recommended
#      approach due to frequent changes and varied vendor structures.
# ==============================================================================
MODEL_PRICING = {
    # ------------------------------
    # GPT-4 and GPT-3.5 placeholders
    # ------------------------------
    "gpt-4": {"input": 30.00, "output": 60.00},  # 8k context
    "gpt-4-32k": {"input": 60.00, "output": 120.00},  # 32k context
    "gpt-3.5-turbo": {"input": 1.50, "output": 2.00},
    "gpt-3.5-turbo-16k": {"input": 3.00, "output": 4.00},
    "gpt-3.5-turbo-0613": {"input": 1.50, "output": 2.00},
    "gpt-3.5-turbo-16k-0613": {"input": 3.00, "output": 4.00},
    # Legacy references
    "davinci-002": {"input": 2.00, "output": 2.00},
    "babbage-002": {"input": 0.40, "output": 0.40},
    # -------------------------------------------------------------------------
    # Anthropic Claude placeholders - edit to match your actual costs
    # -------------------------------------------------------------------------
    "claude-3.5-sonnet-2024-10-22": {"input": 20.00, "output": 40.00},
    "claude-3.5-sonnet-2024-06-20": {"input": 20.00, "output": 40.00},
    "claude-3.5-haiku": {"input": 15.00, "output": 30.00},
    "claude-3-opus": {"input": 25.00, "output": 50.00},
    "claude-3-sonnet": {"input": 20.00, "output": 40.00},
    "claude-3-haiku": {"input": 15.00, "output": 30.00},
    "claude-2.1": {"input": 12.00, "output": 24.00},
    "claude-2.0": {"input": 12.00, "output": 24.00},
    # -------------------------------------------------------------------------
    # GPT-4o and other placeholders from earlier versions
    # -------------------------------------------------------------------------
    "gpt-4o": {"input": 2.50, "output": 10.00},
    "gpt-4o-2024-11-20": {"input": 2.50, "output": 10.00},
    "gpt-4o-2024-08-06": {"input": 2.50, "output": 10.00},
    "gpt-4o-2024-05-13": {"input": 5.00, "output": 15.00},
    "gpt-4o-mini": {"input": 0.15, "output": 0.60},
    "gpt-4o-mini-2024-07-18": {"input": 0.15, "output": 0.60},
    "gpt-4o-audio-preview": {"input": 2.50, "output": 10.00},
    "gpt-4o-audio-preview-2024-12-17": {"input": 2.50, "output": 10.00},
    "gpt-4o-audio-preview-2024-10-01": {"input": 2.50, "output": 10.00},
    "gpt-4o-realtime-preview": {"input": 5.00, "output": 20.00},
    "gpt-4o-realtime-preview-2024-12-17": {"input": 5.00, "output": 20.00},
    "gpt-4o-realtime-preview-2024-10-01": {"input": 5.00, "output": 20.00},
    "o1": {"input": 15.00, "output": 60.00},
    "o1-2024-12-17": {"input": 15.00, "output": 60.00},
    "o1-preview": {"input": 15.00, "output": 60.00},
    "o1-preview-2024-09-12": {"input": 15.00, "output": 60.00},
    "o1-mini": {"input": 3.00, "output": 12.00},
    "o1-mini-2024-09-12": {"input": 3.00, "output": 12.00},
    # --------------------------------------------------------------
    # Fallback categories: "small", "medium", "large" for unknown models
    # --------------------------------------------------------------
    "small": {"input": 0.50, "output": 1.50},
    "medium": {"input": 5.00, "output": 15.00},
    "large": {"input": 15.00, "output": 60.00},
}


class Action:
    """
    This snippet is designed to run within Open Web UI, analyzing token usage
    in the last user/assistant message and emitting cost metrics.

    Usage:
        - Provide a `body` dict with a "messages" list:
          e.g. body = {"messages": [{"role": "user", "content": "Hello!"}]}
        - Provide an optional `__model__` dict, e.g. {"id": "gpt-4"}
          to determine the cost rate.
        - The method will emit "status" and "citation" events via
          `__event_emitter__`.

    Future Updates:
        - If new model names or updated per-million rates appear,
          edit `MODEL_PRICING` accordingly.
        - If an official pricing API becomes available,
          integrate it by replacing or supplementing the `MODEL_PRICING` dict.
    """

    class Valves(BaseModel):
        show_status: bool = Field(
            default=True, description="Show status of the token counting action"
        )
        show_cost: bool = Field(default=True, description="Show cost estimation in USD")
        show_timing: bool = Field(default=True, description="Show processing time")
        detailed_output: bool = Field(
            default=False, description="Show detailed token breakdown"
        )

    def __init__(self) -> None:
        self.valves = self.Valves()
        self.start_time: Optional[float] = None

    def get_model_category(self, model: str) -> str:
        """
        Determine model category based on name for pricing fallback.
        (Used if model isn't explicitly in MODEL_PRICING.)
        """
        model_lower = model.lower()

        if any(
            term in model_lower for term in ["gpt-4o", "claude-3-opus", "o1", "-large"]
        ):
            return "large"
        elif any(
            term in model_lower for term in ["gpt-3.5", "claude-3-sonnet", "-medium"]
        ):
            return "medium"
        else:
            return "small"

    def get_token_count(self, text: str, model: str) -> int:
        """
        Count tokens using tiktoken:
          1) Tries model-specific encoding (encoding_for_model).
          2) If that fails, tries cl100k_base.
          3) If that fails too, approximates tokens by ~1.3 per word.
        """
        try:
            encoding = tiktoken.encoding_for_model(model)
            return len(encoding.encode(text))
        except Exception as e_primary:
            logger.debug(f"Primary encoding failed for model '{model}': {e_primary}")
            try:
                encoding = tiktoken.get_encoding("cl100k_base")
                return len(encoding.encode(text))
            except Exception as e_fallback:
                logger.error(f"Fallback encoding also failed: {e_fallback}")
                # Approximate as last resort
                return int(len(text.split()) * 1.3)

    def calculate_cost(self, tokens: int, model: str, is_input: bool = True) -> float:
        """
        Calculate cost based on token count.
        If model not in MODEL_PRICING, fallback to get_model_category().
        """
        if model not in MODEL_PRICING:
            category = self.get_model_category(model)
            price_key = "input" if is_input else "output"
            price_per_million = MODEL_PRICING[category][price_key]
        else:
            price_key = "input" if is_input else "output"
            price_per_million = MODEL_PRICING[model][price_key]

        # Convert tokens → cost per million
        return (tokens / 1_000_000) * price_per_million

    async def action(
        self,
        body: Dict[str, List[Dict[str, str]]],
        __request__: Request,
        __user__: Optional[Any] = None,
        __event_emitter__: Optional[Any] = None,
        __event_call__: Optional[Any] = None,
        __model__: Optional[Dict[str, str]] = None,
    ) -> None:
        """
        Main entry point for token analysis.
        Emits "status" updates and optionally "citation" details.
        """
        logger.info(f"Starting token analysis for action:{__name__}")
        self.start_time = time.time()

        # If no event emitter, there's nowhere to send output.
        if not __event_emitter__:
            return None

        try:
            messages = body.get("messages", [])
            model = (__model__.get("id") if __model__ else "unknown") or "unknown"
            logger.info(f"Processing model: {model}")

            # Emit initial status
            if self.valves.show_status:
                await __event_emitter__(
                    {
                        "type": "status",
                        "data": {"description": "Analyzing Usage", "done": False},
                    }
                )

            if not messages:
                logger.warning("No messages found to analyze.")
                return None

            # We typically measure the last message
            last_message = messages[-1]
            message_content = last_message.get("content", "")

            # Count tokens
            token_count = self.get_token_count(message_content, model)
            # Calculate cost (assuming output tokens, adjust if needed)
            cost = self.calculate_cost(token_count, model, is_input=False)
            # Compute elapsed time
            elapsed_time = time.time() - self.start_time

            # Build status display
            stats = [f"{token_count:,} tokens"]
            if self.valves.show_cost:
                stats.append(f"${cost:.4f} USD")
            if self.valves.show_timing:
                stats.append(f"{elapsed_time:.2f}s")

            status_message = " | ".join(stats)

            # Emit final status
            await __event_emitter__(
                {
                    "type": "status",
                    "data": {"description": status_message, "done": True},
                }
            )

            # If user wants detailed breakdown
            if self.valves.detailed_output:
                await __event_emitter__(
                    {
                        "type": "citation",
                        "data": {
                            "source": {"name": "Token & Cost Analysis"},
                            "document": [
                                f"Model: {model}",
                                f"Token Count: {token_count:,}",
                                f"Category Fallback: {self.get_model_category(model)}",
                                f"Estimated Cost: ${cost:.4f} USD",
                                f"Processing Time: {elapsed_time:.2f}s",
                            ],
                            "metadata": [{"source": "Universal Token Counter"}],
                        },
                    }
                )

        except Exception as e:
            logger.error(f"Error in token analysis: {str(e)}")

            # Emit error status
            if self.valves.show_status:
                await __event_emitter__(
                    {
                        "type": "status",
                        "data": {
                            "description": "Error in Analysis",
                            "done": True,
                        },
                    }
                )

            # Provide error details
            await __event_emitter__(
                {
                    "type": "citation",
                    "data": {
                        "source": {"name": "Error:token analysis"},
                        "document": [str(e)],
                        "metadata": [{"source": "Universal Token Counter"}],
                    },
                }
            )
        finally:
            return None
